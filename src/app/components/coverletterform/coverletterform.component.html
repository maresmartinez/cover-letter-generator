<p class="lead">Enter the information for the job application below.</p>
<p>This program will replace the following values in the cover letter template given: 
  &#123;companyName&#125;, &#123;companyAddress&#125;, &#123;companyCity&#125;, &#123;companyProvince&#125;, 
  &#123;companyPostal&#125;, &#123;jobTitle&#125; with the values below.</p>
<form #coverLetterForm="ngForm">
  <div class="card mb-3">
    <div class="card-header">
      <h6>Cover Letter Template</h6>
    </div>
    <div class="card-body">
      <div class="form-group">
        <label for="coverLetterTemplate">Choose a template below, or upload your own <span class="text-danger">*</span></label>
        <div class="form-check mb-3">
          <input type="radio" #coverLetter="ngModel" [(ngModel)]="info.coverLetter" name="coverLetterTemplate" id="genericCoverLetter" class="form-check-input" (change)="selectTemplate($event.target.value)" value="assets/coverLetters/genericCoverLetter.docx">
          <label for="genericCoverLetter">Generic Template</label><br>
          <img [src]="'assets/img/genericCoverLetterScreenshot.png'" alt="Screenshot of generic cover letter" class="img-fluid">
        </div>
        <div class="form-check">
            <input type="radio" #coverLetter="ngModel" [(ngModel)]="info.coverLetter" name="coverLetterTemplate" value="custom" id="customCoverLetter" class="form-check-input" (change)="selectCustomUrl()">
            <label for="customCoverLetter" class="form-check-label">Upload Custom Template <span class="text-danger">.docx file*</span></label>
            <input #fileInput="ngModel" name="fileInput"  [(ngModel)]="info.fileInput" id="fileInput" 
            class="form-control-file" accept="application/vnd.openxmlformats-officedocument.wordprocessingml.document" 
            type="file" (change)="fileChange($event)" [required]="info.coverLetter == 'custom'" />
            <div class="alert alert-danger" *ngIf="info.coverLetter == 'custom' && !fileInput.valid">Upload a cover letter</div>
        </div>
      </div>
    </div>
  </div>
  <div class="card mb-3">
      <div class="card-header">
        <h6>Candidate Information</h6>
      </div>
      <div class="card-body">
        <div class="form-group">
          <label for="candidateName">Candidate Name <span class="text-danger">*</span></label>
          <input type="text" class="form-control" id="candidateName" [(ngModel)]="info.candidateName" name="candidateName"
            #candidateName="ngModel" required>
          <div [hidden]="candidateName.valid || candidateName.pristine" class="alert alert-danger">Candidate Name is 
            Required</div>
        </div>
        <div class="form-group">
          <label for="candidateEmail">Candidate Email <span class="text-danger">*</span></label>
          <input type="text" class="form-control" id="candidateEmail" [(ngModel)]="info.candidateEmail" name="candidateEmail"
            #candidateEmail="ngModel" required>
          <div [hidden]="candidateEmail.valid || candidateEmail.pristine" class="alert alert-danger">Candidate Email is 
              Required</div>
        </div>
        <div class="form-group">
          <label for="candidatePhone">Candidate Phone <span class="text-danger">*</span></label>
          <input type="text" class="form-control" id="candidatePhone" [(ngModel)]="info.candidatePhone" name="candidatePhone"
            #candidatePhone="ngModel" required>
          <div [hidden]="candidatePhone.valid || candidatePhone.pristine" class="alert alert-danger">Candidate Phone is 
              Required</div>
        </div>
        <div class="form-group">
          <label for="candidatePortfolio">Candidate Portfolio</label>
          <input type="text" class="form-control" id="candidatePortfolio" [(ngModel)]="info.candidatePortfolio" name="candidatePortfolio"
            #candidatePortfolio="ngModel">
        </div>
      </div>
    </div>
  <div class="card mb-3">
    <div class="card-header">
      <h6>Recruiter Information</h6>
    </div>
    <div class="card-body">
      <div class="form-group">
        <label for="recruiterName">Recruiter Name</label>
        <input type="text" class="form-control" id="jobTitle" [(ngModel)]="info.recruiterName" name="recruiterName"
          #recruiterName="ngModel">
      </div>
      <div class="form-group">
        <label for="recruiterTitle">Rectruiter Title</label>
        <input type="text" class="form-control" id="recruiterTitle" [(ngModel)]="info.recruiterTitle" 
          name="recruiterTitle" #recruiterTitle="ngModel">
      </div>
    </div>
  </div>
  <div class="card mb-3">
    <div class="card-header">
      <h6>Company Information</h6>
    </div>
    <div class="card-body">
      <div class="form-group">
        <label for="companyName">Company Name <span class="text-danger">*</span></label>
        <input type="text" class="form-control" id="companyName" [(ngModel)]="info.companyName" name="companyName"
          #companyName="ngModel" required>
        <div [hidden]="companyName.valid || companyName.pristine" class="alert alert-danger">Company Name is 
          Required</div>
      </div>
      <div class="form-group">
        <label for="companyAddress">Company Address <span class="text-danger">*</span></label>
        <input type="text" class="form-control" id="companyAddress" [(ngModel)]="info.companyAddress" 
          name="companyAddress" #companyAddress="ngModel" required>
        <div [hidden]="companyAddress.valid || companyAddress.pristine" class="alert alert-danger">Company Address is
          Required</div>
      </div>
      <div class="form-group">
        <label for="companyCity">Company City <span class="text-danger">*</span></label>
        <input type="text" class="form-control" id="companyCity" [(ngModel)]="info.companyCity" name="companyCity"
          #companyCity="ngModel" required>
        <div [hidden]="companyCity.valid || companyCity.pristine" class="alert alert-danger">Company City is
          Required</div>
      </div>
      <div class="form-group">
        <label for="companyProvince">Company Province <span class="text-danger">*</span></label>
        <input type="text" class="form-control" id="companyProvince" [(ngModel)]="info.companyProvince"
          name="companyProvince" #companyProvince="ngModel" required>
        <div [hidden]="companyProvince.valid || companyProvince.pristine" class="alert alert-danger">Company Province 
          is Required</div>
      </div>
      <div class="form-group">
        <label for="companyPostal">Company Postal Code <span class="text-danger">*</span></label>
        <input type="text" class="form-control" id="companyPostal" [(ngModel)]="info.companyPostal" name="companyPostal"
          #companyPostal="ngModel" required>
        <div [hidden]="companyPostal.valid || companyPostal.pristine" class="alert alert-danger">Company Postal Code is
          Required</div>
      </div>
    </div>
  </div>
  <div class="card mb-3">
    <div class="card-header">
      <h6>Job Position Information</h6>
    </div>
    <div class="card-body">
      <div class="form-group">
        <label for="jobTitle">Job Title <span class="text-danger">*</span></label>
        <input type="text" class="form-control" id="jobTitle" [(ngModel)]="info.jobTitle" name="jobTitle"
          #jobTitle="ngModel" required>
        <div [hidden]="jobTitle.valid || jobTitle.pristine" class="alert alert-danger">Job Title is
          Required</div>
      </div>
    </div>
  </div>
  <button type="submit" class="btn btn-primary" (click)="onSubmit()" [disabled]="!coverLetterForm.form.valid">Generate
    Document</button>
</form>